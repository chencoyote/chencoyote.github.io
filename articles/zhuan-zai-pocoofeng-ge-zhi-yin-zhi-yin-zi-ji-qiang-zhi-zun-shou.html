<!doctype html>
<html lang="">	
<head>
	<meta charset="utf-8"/>
	<title>转载:Pocoo风格指引--指引自己强制遵守 - Coyote's Blog</title>	
	<meta name="author" content="coyote">
	

  <meta name="description" content="警醒自己 良好的项目团队就有良好的编码风格, 成为一个Pythonic的Pythoner 必须有好的学习精神. 如何写出Pythonic的代码, 个人参考考本文中Pocoo的风格 推荐阅读本文的初学者, 一起使用! Be Pythonic~ 正文 Pocoo 风格指引是所有 Pocoo 项目的风格指引，包括 Flask 。这份风格指引 在 Flask 补丁中是必须的，并且推荐在 Flask 扩展中使用。 一般而言， Pocoo 风格指引遵循 pep8 ，有一些小差异和扩充。 总体布局 缩进 4个空格。没有制表符，没有例外。 最大行长 79字符，软限制是 84 ，如果绝对必要。尝试合理放置 break 、 continue 和 return 声明来避免代码过度嵌套。 可续长语句 你可以使用反斜线来继续一个语句，在这种情况下，你应该对齐下一行到最后一个 点或等号或缩进四个空格 ...">



	<link rel="stylesheet" href="http://chencoyote.github.io/theme/css/main.css" type="text/css" />
		


    <link href="http://chencoyote.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Coyote's Blog Atom Feed" />
</head>
	
<body>

    <div class="container">
	  
	  <header role="banner">
	    <div class="feeds">
	      <a href="http://chencoyote.github.io/feeds/all.atom.xml" rel="alternate"><img src="http://chencoyote.github.io/theme/images/icons/feed-32px.png" alt="atom feed"/></a>
	    </div>
	      <nav class="pages">
			  <a href="http://chencoyote.github.io/archives">Archives</a>
-			  <a href="http://chencoyote.github.io/tags">Tags</a>
-			  <a href="http://chencoyote.github.io/pages/personal-awesome.html">Personal Awesome</a>
-			  <a href="http://chencoyote.github.io/pages/about-me.html">About Me</a>
	      </nav>
		<a href="http://chencoyote.github.io" class="title">Coyote's Blog</a>
      </header>
	
	  <div class="wrapper">

		  <div role="main" class="content">
	<article class="full">
		
		<h1>转载:Pocoo风格指引--指引自己强制遵守</h1>
		
<div class="metadata">
  <time datetime="2015-01-07T12:42:55+08:00" pubdate>Wed 07 January 2015</time>
    <address class="vcard author">
      by <a class="url fn" href="http://chencoyote.github.io/author/coyote.html">coyote</a>
    </address>
  in <a href="http://chencoyote.github.io/category/python.html">Python</a>
<p class="tags">tagged <a href="http://chencoyote.github.io/tag/python.html">python</a>, <a href="http://chencoyote.github.io/tag/pep8.html">PEP8</a></p></div>		
		<h2>警醒自己</h2>
<p>良好的项目团队就有良好的编码风格, 成为一个Pythonic的Pythoner
必须有好的学习精神. 如何写出Pythonic的代码, 个人参考考本文中Pocoo的风格
推荐阅读本文的初学者, 一起使用! Be Pythonic~</p>
<h2>正文</h2>
<p>Pocoo 风格指引是所有 Pocoo 项目的风格指引，包括 Flask 。这份风格指引
在 Flask 补丁中是必须的，并且推荐在 Flask 扩展中使用。</p>
<p>一般而言， Pocoo 风格指引遵循 <code>pep8</code> ，有一些小差异和扩充。</p>
<h2>总体布局</h2>
<h3>缩进</h3>
<p>4个空格。没有制表符，没有例外。</p>
<h3>最大行长</h3>
<p>79字符，软限制是 84 ，如果绝对必要。尝试合理放置 <code>break</code> 、 <code>continue</code>
  和 <code>return</code> 声明来避免代码过度嵌套。</p>
<h3>可续长语句</h3>
<p>你可以使用反斜线来继续一个语句，在这种情况下，你应该对齐下一行到最后一个
  点或等号或缩进四个空格</p>
<div class="highlight"><pre>    <span class="sx">this_is_a_very_long(function_call,</span> <span class="s1">&#39;with many parameters&#39;</span><span class="sx">)</span> <span class="sx">\</span>
        <span class="sx">.that_returns_an_object_with_an_attribute</span>

    <span class="sx">MyModel.query.filter(MyModel.scalar</span> <span class="sx">&gt;</span> <span class="sx">120)</span> <span class="sx">\</span>
                 <span class="sx">.order_by(MyModel.name.desc())</span> <span class="sx">\</span>
                 <span class="sx">.limit(10)</span>
</pre></div>


<p>如果你在一个带括号的语句中换行，对齐到括号</p>
<div class="highlight"><pre>    <span class="nx">this_is_a_very_long</span><span class="p">(</span><span class="nx">function_call</span><span class="p">,</span> <span class="s1">&#39;with many parameters&#39;</span><span class="p">,</span>
                        <span class="mi">23</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="s1">&#39;and even more&#39;</span><span class="p">)</span>
</pre></div>


<p>对于有许多元素的元组或列表，在起始括号后立即换行</p>
<div class="highlight"><pre>    items = [
        &#39;this is the first&#39;, &#39;set of items&#39;, &#39;with more items&#39;,
        &#39;to come in this line&#39;, &#39;like this&#39;
    ]
</pre></div>


<h3>空行</h3>
<p>顶层函数和类由两个空行分隔，其它的东西由一行。不要使用太多的空行来分隔
  代码中的逻辑段。例如::</p>
<div class="highlight"><pre>def hello(name):
    print &#39;Hello %s!&#39; % name


def goodbye(name):
    print &#39;See you %s.&#39; % name


class MyClass(object):
    &quot;&quot;&quot;This is a simple docstring&quot;&quot;&quot;

    def __init__(self, name):
        self.name = name

    def get_annoying_name(self):
        return self.name.upper() + &#39;!!!!111&#39;
</pre></div>


<h2>表达式和语句</h2>
<h3>常规空格规则</h3>
<ul>
<li>不对不是单词的一元运算符使用空格（例如 <code>-</code> 、 <code>~</code> 等等），
    在圆括号内同样</li>
<li>在二元运算符见使用空格</li>
</ul>
<p>Good </p>
<div class="highlight"><pre>    exp = -1.05
    value = (item_value / item_count) * offset / exp
    value = my_list[index]
    value = my_dict[&#39;key&#39;]
</pre></div>


<p>Bad</p>
<div class="highlight"><pre>    exp = - 1.05
    value = ( item_value / item_count ) * offset / exp
    value = (item_value/item_count)*offset/exp
    value=( item_value/item_count ) * offset/exp
    value = my_list[ index ]
    value = my_dict [&#39;key&#39;]
</pre></div>


<h3>不能使用 Yoda 语句</h3>
<p>永远不要用常量与变量做比较，而是把变量与常量做比较</p>
<p><em>Good</em></p>
<div class="highlight"><pre>    if method == &#39;md5&#39;:
        pass
</pre></div>


<p><em>Bad</em></p>
<div class="highlight"><pre>    if &#39;md5&#39; == method:
        pass
</pre></div>


<h3>比较</h3>
<ul>
<li>跟任意类型: <code>==</code> 和 <code>!=</code></li>
<li>跟单例，使用 <code>is</code> 和 <code>is not</code> （例如 <code>foo is not
    None</code> ）</li>
<li>永远不要与 <code>True</code> 或 <code>False</code> 做比较（比如永远不要
    写 <code>foo == False</code> ，而是 <code>not foo</code> ）</li>
</ul>
<h3>否定包含检查</h3>
<p>使用 <code>foo not in bar</code> 而不是 <code>not foo in bar</code></p>
<h3>实例检查</h3>
<p>用 <code>isinstance(a, C)</code> 而不是 <code>type(A) is C</code> ， 但通常试图避免
  实例检查，请对特性检查。</p>
<h2>命名约定</h2>
<ul>
<li>类名: <code>CamelCase</code> ，缩写词大写 （ <code>HTTPWriter</code> 而非 <code>HttpWriter</code> ）</li>
<li>变量名: <code>lowercase_with_underscores</code></li>
<li>方法和函数名: <code>lowercase_with_underscores</code></li>
<li>常量: <code>UPPERCASE_WITH_UNDERSCORES</code></li>
<li>预编译正则表达式: <code>name_re</code></li>
</ul>
<p>被保护的成员以单个下划线作为前缀，双下划线为混合类保留。</p>
<p>在带有关键字的类上，会添加结尾的下划线。与内置构件冲突是允许的，并且
<strong>一定不要</strong> 在用在变量名后添加下划线的方式解决。如果函数需要访问一个隐蔽
的内置构件，重绑定内置构件到一个不同的名字作为替代。</p>
<p>函数和方法参数</p>
<ul>
<li>类方法: <code>cls</code> 作为第一个参数</li>
<li>实例方法: <code>self</code> 作为第一个参数</li>
<li>属性的 lambda 表达式应该把第一个参数替换为 <code>x</code> ，像 <code>display_name = 
    property(lambda x: x.real_name or x.username)</code> 中一样</li>
</ul>
<h2>文档字符串</h2>
<h3>文档字符串约定</h3>
<p>所有的文档字符串为 Sphinx 可理解的 reStructuredText 格式。它们的形态
  因行数不同而迥异。如果只有一行，闭合的三引号和开头的三引号在同一行，
  否则开头的三引号与文本在同一行，而闭合的三引号另起一行</p>
<div class="highlight"><pre>    def foo():
        &quot;&quot;&quot;This is a simple docstring&quot;&quot;&quot;


    def bar():
        &quot;&quot;&quot;This is a longer docstring with so much information in there
        that it spans three lines.  In this case the closing triple quote
        is on its own line.
        &quot;&quot;&quot;
</pre></div>


<h3>模块标头</h3>
<p>模块标头包含一个 utf-8 编码声明（即使没有使用非 ASCII 字符，也始终推
  荐这么做）和一个标准的文档字符串</p>
<div class="highlight"><pre>    # -*- coding: utf-8 -*-
    &quot;&quot;&quot;
        package.module
        ~~~~~~~~~~~~~~

        A brief description goes here.

        :copyright: (c) YEAR by AUTHOR.
        :license: LICENSE_NAME, see LICENSE_FILE for more details.
    &quot;&quot;&quot;
</pre></div>


<p>请留意何时的版权和许可证文件对于通过审核的 Flask 扩展是必须的。</p>
<h2>注释</h2>
<p>注释的规则和文档字符串类似。两者都使用 reStructuredText 格式。如果一个
注释被用于一个属性的文档，在起始的井号（ <code>#</code> ）后加一个冒号</p>
<div class="highlight"><pre>    <span class="k">class</span> <span class="n">User</span>(<span class="n">object</span>):
        <span class="c-Singleline">#: the name of the user as unicode string</span>
        <span class="nb">name</span> = <span class="n">Column</span>(<span class="n">String</span>)
        <span class="c-Singleline">#: the sha1 hash of the password + inline salt</span>
        <span class="n">pw_hash</span> = <span class="n">Column</span>(<span class="n">String</span>)
</pre></div>	

	</article>

    <p>
	<a href="https://twitter.com/share" class="twitter-share-button" data-via="" data-lang="en" data-size="large" data-related="">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</p>


		  </div>	
		  
		  <div class="sidebar">
		    <div class="sidebar-container" >


  	          <nav>
	            <h2>Categories</h2>
	            <ul>
	                <li ><a href="http://chencoyote.github.io/category/ce-shi.html">测试</a></li>
	                <li ><a href="http://chencoyote.github.io/category/ewen-fan-yi.html">E文翻译</a></li>
	                <li ><a href="http://chencoyote.github.io/category/ji-zhu.html">技术</a></li>
	                <li ><a href="http://chencoyote.github.io/category/linux.html">Linux</a></li>
	                <li class="active"><a href="http://chencoyote.github.io/category/python.html">Python</a></li>
	                <li ><a href="http://chencoyote.github.io/category/qi-ta.html">其他</a></li>
	                <li ><a href="http://chencoyote.github.io/category/sublime-text.html">Sublime Text</a></li>
	                <li ><a href="http://chencoyote.github.io/category/xue-xi-bi-ji.html">学习笔记</a></li>
	            </ul>
	          </nav>

	            <aside>
	            <h2>Social</h2>
			      <ul class="social">
				    <li><a href="https://github.com/chencoyote">Github</a><i></i></li>
				    <li><a href="https://plus.google.com/u/0/104542842241928417898/posts">Google+</a><i></i></li>
				    <li><a href="https://twitter.com/Coyote_chen">Twitter</a><i></i></li>
				    <li><a href="http://weibo.com/coytoe">Weibo</a><i></i></li>
				    <li><a href="http://v2ex.com/member/Coyote">V2EX</a><i></i></li>
			      </ul>
			    </aside>

	            <aside>
	              <h2>Blogroll</h2>
	              <ul>
	                  <li><a href="http://python.org/">Python.org</a></li>
	                  <li><a href="http://pychina.org">PyChina</a></li>
	                  <li><a href="http://cn.pycon.org">PyConChina</a></li>
	              </ul>
	            </aside>
	        </div>
		  </div>

	  </div>

      <footer>
		<p role="contentinfo">
		  coyote - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-sober">pelican-sober</a>.
    	</p>

	  </footer>	

	</div>
	

</body>
</html>